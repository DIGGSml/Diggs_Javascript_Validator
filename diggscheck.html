<!DOCTYPE html>
<html>
<head>
  <title>Embedded DIGGS Validator & Viewer</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/themes/default/style.min.css">
  <style>
    .success {
      color: green;
    }
    .error {
      color: red;
    }
    #xmlTree {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h1>Embedded DIGGS Validator & Viewer</h1>
  

  <p id="validationResult"></p>
  
  <h2>XML Tree:</h2>
  <div id="xmlTree"></div>

  <h2>XML:</h2>
  <pre><code id="xmlContent"></code></pre>
  
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/jstree.min.js"></script>
  <script>
    const xmlContentElement = document.getElementById('xmlContent');
    const validationResultElement = document.getElementById('validationResult');
    const xmlTreeElement = document.getElementById('xmlTree');
    
    // XML example
    const xmlContent = `<Diggs xmlns="http://diggsml.org/schemas/2.5.a" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:diggs_geo="http://diggsml.org/schemas/2.5.a/geotechnical" xmlns:witsml="http://www.witsml.org/schemas/131" xmlns:glr="http://www.opengis.net/gml/3.3/lr" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:g3.3="http://www.opengis.net/gml/3.3/ce" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:diggs="http://diggsml.org/schemas/2.5.a" xmlns:glrov="http://www.opengis.net/gml/3.3/lrov" xsi:schemaLocation="http://diggsml.org/schemas/2.5.a http://diggsml.org/schemas/2.5.a/Kernel.xsd" gml:id="Geosetta_3918895549773102293">
  <documentInformation>
    <DocumentInformation gml:id="Geosetta_root_3918895549773102293">
      <creationDate>2024-04-17</creationDate>
      <disclaimer>The information shown in this file has been made available by various DOTs and other public agencies. No claim as to the accuracy of the data and predictive model is made or implied. No other representation, expressed or implied, is included or intended and no warranty or guarantee is included or intended in any Geosetta data or models. The User understands these limitations and that Geosetta is a tool for planning subsurface investigations and not a substitute for it. In no event shall Geosetta or the Data Owners be liable to the User or another Party for any incidental, consequential, special, exemplary or indirect damages, lost business profits or lost data arising out of or in any way related to the use of information or data obtained from the Geosetta website.</disclaimer>
      <auditTrail>
        <Remark>
          <content>Generated by Geosetta</content>
        </Remark>
      </auditTrail>
    </DocumentInformation>
  </documentInformation>
  <project>
    <Project gml:id="Project0">
      <gml:name>Geosetta_Generated</gml:name>
      <role>
        <Role>
          <rolePerformed>Client</rolePerformed>
          <businessAssociate>
            <BusinessAssociate gml:id="businessAssociate_3918895549773102293_Num_0">
              <gml:name>MDOT</gml:name>
            </BusinessAssociate>
          </businessAssociate>
        </Role>
      </role>
      <purpose>Non-Design Reference Data</purpose>
    </Project>
  </project>
  <samplingFeature>
    <Borehole gml:id="Borehole_Num_1">
      <gml:name>BH-1</gml:name>
      <investigationTarget>Natural Ground</investigationTarget>
      <projectRef xlink:href="#Project0"/>
      <referencePoint>
        <PointLocation gml:id="Point_Location3918895549773102293_Num_0-pl">
          <gml:pos srsDimension="3" srsName="urn:diggs:def:crs:DIGGS:0.1:4326_5702" uomLabels="degrees">-77.3102293 39.18895549 336.5</gml:pos>
        </PointLocation>
      </referencePoint>
      <centerLine>
        <LinearExtent gml:id="Linear_Extent_0">
          <gml:posList>-77.3102293 39.18895549 336.5 39.18895549 -77.3102293 296.5</gml:posList>
        </LinearExtent>
      </centerLine>
      <linearReferencing>
        <LinearSpatialReferenceSystem gml:id="lrs">
          <gml:identifier codeSpace=""/>
          <glr:linearElement xlink:href="#Linear_Extent_0"/>
          <glr:lrm>
            <glr:LinearReferencingMethod gml:id="Linear_Extent_0_">
              <glr:name>chainage</glr:name>
              <glr:type>absolute</glr:type>
              <glr:units>ft</glr:units>
            </glr:LinearReferencingMethod>
          </glr:lrm>
        </LinearSpatialReferenceSystem>
      </linearReferencing>
      <whenConstructed>
        <TimeInterval gml:id="time_Num_0">
          <start>1985-09-01</start>
          <end>1985-09-01</end>
        </TimeInterval>
      </whenConstructed>
      <totalMeasuredDepth uom="ft">40.0</totalMeasuredDepth>
    </Borehole>
  </samplingFeature>
  <samplingActivity>
    <SamplingActivity gml:id="SA_S0">
      <gml:name>0</gml:name>
      <investigationTarget>Natural Ground</investigationTarget>
      <projectRef xlink:href="#Geosetta_Generated"/>
      <samplingFeatureRef xlink:href="#Borehole_Num_1"/>
      <samplingLocation>
        <LinearExtent gml:id="SL_LinearExtent_3918895549773102293_Num_0" srsDimension="1" srsName="srs_0">
          <gml:posList>1.0 2.5</gml:posList>
        </LinearExtent>
      </samplingLocation>
      <activityType>collect</activityType>
      <sampleProduced>
        <SampleProduced gml:id="SP_S0">
          <location>
            <LinearExtent gml:id="SP_LinearExtent_3918895549773102293_Num_0" srsDimension="1" srsName="srs_0">
              <gml:posList>1.0 2.5</gml:posList>
            </LinearExtent>
          </location>
        </SampleProduced>
      </sampleProduced>
      <samplingMethod>
        <Specification gml:id="DGS3D88-D83-20DF-195E-4A332_Num_0">
          <gml:name codeSpace="Geosetta_CS">SS</gml:name>
        </Specification>
      </samplingMethod>
      <totalSampleRecoveryLength uom="in">1.0</totalSampleRecoveryLength>
    </SamplingActivity>
  </samplingActivity>
  <samplingActivity>
    <SamplingActivity gml:id="SA_S1">
      <gml:name>1</gml:name>
      <investigationTarget>Natural Ground</investigationTarget>
      <projectRef xlink:href="#Geosetta_Generated"/>
      <samplingFeatureRef xlink:href="#Borehole_Num_1"/>
      <samplingLocation>
        <LinearExtent gml:id="SL_LinearExtent_3918895549773102293_Num_1" srsDimension="1" srsName="srs_1">
          <gml:posList>5.0 6.5</gml:posList>
        </LinearExtent>
      </samplingLocation>
      <activityType>collect</activityType>
      <sampleProduced>
        <SampleProduced gml:id="SP_S1">
          <location>
            <LinearExtent gml:id="SP_LinearExtent_3918895549773102293_Num_1" srsDimension="1" srsName="srs_1">
              <gml:posList>5.0 6.5</gml:posList>
            </LinearExtent>
          </location>
        </SampleProduced>
      </sampleProduced>
      <samplingMethod>
        <Specification gml:id="DGS3D88-D83-20DF-195E-4A332_Num_1">
          <gml:name codeSpace="Geosetta_CS">SS</gml:name>
        </Specification>
      </samplingMethod>
      <totalSampleRecoveryLength uom="in">5.0</totalSampleRecoveryLength>
    </SamplingActivity>
  </samplingActivity>
  <samplingActivity>
    <SamplingActivity gml:id="SA_S2">
      <gml:name>2</gml:name>
      <investigationTarget>Natural Ground</investigationTarget>
      <projectRef xlink:href="#Geosetta_Generated"/>
      <samplingFeatureRef xlink:href="#Borehole_Num_1"/>
      <samplingLocation>
        <LinearExtent gml:id="SL_LinearExtent_3918895549773102293_Num_2" srsDimension="1" srsName="srs_2">
          <gml:posList>10.0 10.75</gml:posList>
        </LinearExtent>
      </samplingLocation>
      <activityType>collect</activityType>
      <sampleProduced>
        <SampleProduced gml:id="SP_S2">
          <location>
            <LinearExtent gml:id="SP_LinearExtent_3918895549773102293_Num_2" srsDimension="1" srsName="srs_2">
              <gml:posList>10.0 10.75</gml:posList>
            </LinearExtent>
          </location>
        </SampleProduced>
      </sampleProduced>
      <samplingMethod>
        <Specification gml:id="DGS3D88-D83-20DF-195E-4A332_Num_2">
          <gml:name codeSpace="Geosetta_CS">SS</gml:name>
        </Specification>
      </samplingMethod>
      <totalSampleRecoveryLength uom="in">10.0</totalSampleRecoveryLength>
    </SamplingActivity>
  </samplingActivity>
  <samplingActivity>
    <SamplingActivity gml:id="SA_S3">
      <gml:name>3</gml:name>
      <investigationTarget>Natural Ground</investigationTarget>
      <projectRef xlink:href="#Geosetta_Generated"/>
      <samplingFeatureRef xlink:href="#Borehole_Num_1"/>
      <samplingLocation>
        <LinearExtent gml:id="SL_LinearExtent_3918895549773102293_Num_3" srsDimension="1" srsName="srs_3">
          <gml:posList>15.0 15.25</gml:posList>
        </LinearExtent>
      </samplingLocation>
      <activityType>collect</activityType>
      <sampleProduced>
        <SampleProduced gml:id="SP_S3">
          <location>
            <LinearExtent gml:id="SP_LinearExtent_3918895549773102293_Num_3" srsDimension="1" srsName="srs_3">
              <gml:posList>15.0 15.25</gml:posList>
            </LinearExtent>
          </location>
        </SampleProduced>
      </sampleProduced>
      <samplingMethod>
        <Specification gml:id="DGS3D88-D83-20DF-195E-4A332_Num_3">
          <gml:name codeSpace="Geosetta_CS">SS</gml:name>
        </Specification>
      </samplingMethod>
      <totalSampleRecoveryLength uom="in">15.0</totalSampleRecoveryLength>
    </SamplingActivity>
  </samplingActivity>
  <samplingActivity>
    <SamplingActivity gml:id="SA_S4">
      <gml:name>4</gml:name>
      <investigationTarget>Natural Ground</investigationTarget>
      <projectRef xlink:href="#Geosetta_Generated"/>
      <samplingFeatureRef xlink:href="#Borehole_Num_1"/>
      <samplingLocation>
        <LinearExtent gml:id="SL_LinearExtent_3918895549773102293_Num_4" srsDimension="1" srsName="srs_4">
          <gml:posList>20.0 20.5</gml:posList>
        </LinearExtent>
      </samplingLocation>
      <activityType>collect</activityType>
      <sampleProduced>
        <SampleProduced gml:id="SP_S4">
          <location>
            <LinearExtent gml:id="SP_LinearExtent_3918895549773102293_Num_4" srsDimension="1" srsName="srs_4">
              <gml:posList>20.0 20.5</gml:posList>
            </LinearExtent>
          </location>
        </SampleProduced>
      </sampleProduced>
      <samplingMethod>
        <Specification gml:id="DGS3D88-D83-20DF-195E-4A332_Num_4">
          <gml:name codeSpace="Geosetta_CS">SS</gml:name>
        </Specification>
      </samplingMethod>
      <totalSampleRecoveryLength uom="in">20.0</totalSampleRecoveryLength>
    </SamplingActivity>
  </samplingActivity>
  <observation>
    <LithologySystem gml:id="Litho_Soil_Observation_0_0.0">
      <projectRef xlink:href="#Geosetta_Generated"/>
      <samplingFeatureRef xlink:href="#Borehole_Num_1"/>
      <lithologyClassificationType>USCS</lithologyClassificationType>
      <lithologyObservation>
        <LithologyObservation gml:id="LithologyObservation_Borehole_3918895549773102293_Num_0">
          <location>
            <LinearExtent gml:id="LinearExtent_Num_03918895549773102293" srsName="3918895549773102293_Srs" srsDimension="1">
              <gml:posList>0.0 3.0</gml:posList>
            </LinearExtent>
          </location>
          <primaryLithology>
            <Lithology gml:id="Lith_BoreHole_3918895549773102293_Num_0">
              <lithDescription>Loose, dark brown, SILT, trace clay</lithDescription>
              <fieldProperties>
                <FieldProperties gml:id="FieldProperties3918895549773102293_Num_0">
                  <otherFieldProperty>
                    <Parameter gml:id="fieldPropertiesParameter3918895549773102293_Num_0">
                      <parameterName>Graphic</parameterName>
                      <parameterValue>ML</parameterValue>
                    </Parameter>
                  </otherFieldProperty>
                </FieldProperties>
              </fieldProperties>
            </Lithology>
          </primaryLithology>
        </LithologyObservation>
      </lithologyObservation>
    </LithologySystem>
  </observation>
  <observation>
    <LithologySystem gml:id="Litho_Soil_Observation_1_3.0">
      <projectRef xlink:href="#Geosetta_Generated"/>
      <samplingFeatureRef xlink:href="#Borehole_Num_1"/>
      <lithologyClassificationType>USCS</lithologyClassificationType>
      <lithologyObservation>
        <LithologyObservation gml:id="LithologyObservation_Borehole_3918895549773102293_Num_1">
          <location>
            <LinearExtent gml:id="LinearExtent_Num_13918895549773102293" srsName="3918895549773102293_Srs" srsDimension="1">
              <gml:posList>3.0 7.5</gml:posList>
            </LinearExtent>
          </location>
          <primaryLithology>
            <Lithology gml:id="Lith_BoreHole_3918895549773102293_Num_1">
              <lithDescription>Med dense, brown, fine silty SAND, trace quartz</lithDescription>
              <fieldProperties>
                <FieldProperties gml:id="FieldProperties3918895549773102293_Num_1">
                  <otherFieldProperty>
                    <Parameter gml:id="fieldPropertiesParameter3918895549773102293_Num_1">
                      <parameterName>Graphic</parameterName>
                      <parameterValue>SW</parameterValue>
                    </Parameter>
                  </otherFieldProperty>
                </FieldProperties>
              </fieldProperties>
            </Lithology>
          </primaryLithology>
        </LithologyObservation>
      </lithologyObservation>
    </LithologySystem>
  </observation>
  <observation>
    <LithologySystem gml:id="Litho_Soil_Observation_2_7.5">
      <projectRef xlink:href="#Geosetta_Generated"/>
      <samplingFeatureRef xlink:href="#Borehole_Num_1"/>
      <lithologyClassificationType>USCS</lithologyClassificationType>
      <lithologyObservation>
        <LithologyObservation gml:id="LithologyObservation_Borehole_3918895549773102293_Num_2">
          <location>
            <LinearExtent gml:id="LinearExtent_Num_23918895549773102293" srsName="3918895549773102293_Srs" srsDimension="1">
              <gml:posList>7.5 20.0</gml:posList>
            </LinearExtent>
          </location>
          <primaryLithology>
            <Lithology gml:id="Lith_BoreHole_3918895549773102293_Num_2">
              <lithDescription>Very dense, brown, fine sandy SILT, trace quartz, trace clay, decomposed rock</lithDescription>
              <fieldProperties>
                <FieldProperties gml:id="FieldProperties3918895549773102293_Num_2">
                  <otherFieldProperty>
                    <Parameter gml:id="fieldPropertiesParameter3918895549773102293_Num_2">
                      <parameterName>Graphic</parameterName>
                      <parameterValue>ML</parameterValue>
                    </Parameter>
                  </otherFieldProperty>
                </FieldProperties>
              </fieldProperties>
            </Lithology>
          </primaryLithology>
        </LithologyObservation>
      </lithologyObservation>
    </LithologySystem>
  </observation>
  <observation>
    <LithologySystem gml:id="Litho_Soil_Observation_3_20.0">
      <projectRef xlink:href="#Geosetta_Generated"/>
      <samplingFeatureRef xlink:href="#Borehole_Num_1"/>
      <lithologyClassificationType>USCS</lithologyClassificationType>
      <lithologyObservation>
        <LithologyObservation gml:id="LithologyObservation_Borehole_3918895549773102293_Num_3">
          <location>
            <LinearExtent gml:id="LinearExtent_Num_33918895549773102293" srsName="3918895549773102293_Srs" srsDimension="1">
              <gml:posList>20.0 40.0</gml:posList>
            </LinearExtent>
          </location>
          <primaryLithology>
            <Lithology gml:id="Lith_BoreHole_3918895549773102293_Num_3">
              <lithDescription>Moderately hard to hard, fine grained, green brown to gray brown PHYLLITE (numerous quartz seam, foliation dips 20' - 25')</lithDescription>
              <fieldProperties>
                <FieldProperties gml:id="FieldProperties3918895549773102293_Num_3">
                  <otherFieldProperty>
                    <Parameter gml:id="fieldPropertiesParameter3918895549773102293_Num_3">
                      <parameterName>Graphic</parameterName>
                      <parameterValue></parameterValue>
                    </Parameter>
                  </otherFieldProperty>
                </FieldProperties>
              </fieldProperties>
            </Lithology>
          </primaryLithology>
        </LithologyObservation>
      </lithologyObservation>
    </LithologySystem>
  </observation>
  <measurement>
    <Test gml:id="Measurement_BoreHole_3918895549773102293_Num_0">
      <gml:name>SPT</gml:name>
      <investigationTarget>Natural Ground</investigationTarget>
      <projectRef xlink:href="#Geosetta_Generated"/>
      <samplingFeatureRef xlink:href="#Borehole_Num_1"/>
      <outcome>
        <TestResult gml:id="TestResult_Num_0">
          <location>
            <LinearExtent gml:id="LinearExtent_3918895549773102293_Num_0_1">
              <gml:posList>1.0 2.5</gml:posList>
            </LinearExtent>
          </location>
          <results>
            <ResultSet>
              <parameters>
                <PropertyParameters gml:id="PropertyPara0">
                  <properties>
                    <Property index="1" gml:id="property_Num_0_2">
                      <propertyName>N-Value</propertyName>
                      <typeData>long</typeData>
                      <propertyClass codeSpace="urn:diggs:def:codelist:DIGGS:properties">n_value</propertyClass>
                    </Property>
                  </properties>
                </PropertyParameters>
              </parameters>
              <dataValues cs="," ts=" " decimal=".">3</dataValues>
            </ResultSet>
          </results>
        </TestResult>
      </outcome>
      <procedure>
        <diggs_geo:DrivenPenetrationTest gml:id="penID_0_2">
          <diggs_geo:penetrationTestType>SPT</diggs_geo:penetrationTestType>
          <diggs_geo:totalPenetration uom="in">18</diggs_geo:totalPenetration>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_0_2">
              <diggs_geo:index>1</diggs_geo:index>
              <diggs_geo:blowCount>1</diggs_geo:blowCount>
              <diggs_geo:penetration uom="in">6.0</diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_0_3">
              <diggs_geo:index>2</diggs_geo:index>
              <diggs_geo:blowCount>1.0</diggs_geo:blowCount>
              <diggs_geo:penetration uom="in">6.0</diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_0_4">
              <diggs_geo:index>3</diggs_geo:index>
              <diggs_geo:blowCount>2.0</diggs_geo:blowCount>
              <diggs_geo:penetration uom="in">6.0</diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_0_5">
              <diggs_geo:index>4</diggs_geo:index>
              <diggs_geo:blowCount></diggs_geo:blowCount>
              <diggs_geo:penetration uom="in"></diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
        </diggs_geo:DrivenPenetrationTest>
      </procedure>
    </Test>
  </measurement>
  <measurement>
    <Test gml:id="Measurement_BoreHole_3918895549773102293_Num_1">
      <gml:name>SPT</gml:name>
      <investigationTarget>Natural Ground</investigationTarget>
      <projectRef xlink:href="#Geosetta_Generated"/>
      <samplingFeatureRef xlink:href="#Borehole_Num_1"/>
      <outcome>
        <TestResult gml:id="TestResult_Num_1">
          <location>
            <LinearExtent gml:id="LinearExtent_3918895549773102293_Num_1_1">
              <gml:posList>5.0 6.5</gml:posList>
            </LinearExtent>
          </location>
          <results>
            <ResultSet>
              <parameters>
                <PropertyParameters gml:id="PropertyPara1">
                  <properties>
                    <Property index="1" gml:id="property_Num_1_2">
                      <propertyName>N-Value</propertyName>
                      <typeData>long</typeData>
                      <propertyClass codeSpace="urn:diggs:def:codelist:DIGGS:properties">n_value</propertyClass>
                    </Property>
                  </properties>
                </PropertyParameters>
              </parameters>
              <dataValues cs="," ts=" " decimal=".">20</dataValues>
            </ResultSet>
          </results>
        </TestResult>
      </outcome>
      <procedure>
        <diggs_geo:DrivenPenetrationTest gml:id="penID_1_2">
          <diggs_geo:penetrationTestType>SPT</diggs_geo:penetrationTestType>
          <diggs_geo:totalPenetration uom="in">18</diggs_geo:totalPenetration>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_1_2">
              <diggs_geo:index>1</diggs_geo:index>
              <diggs_geo:blowCount>10</diggs_geo:blowCount>
              <diggs_geo:penetration uom="in">6.0</diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_1_3">
              <diggs_geo:index>2</diggs_geo:index>
              <diggs_geo:blowCount>10.0</diggs_geo:blowCount>
              <diggs_geo:penetration uom="in">6.0</diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_1_4">
              <diggs_geo:index>3</diggs_geo:index>
              <diggs_geo:blowCount>10.0</diggs_geo:blowCount>
              <diggs_geo:penetration uom="in">6.0</diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_1_5">
              <diggs_geo:index>4</diggs_geo:index>
              <diggs_geo:blowCount></diggs_geo:blowCount>
              <diggs_geo:penetration uom="in"></diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
        </diggs_geo:DrivenPenetrationTest>
      </procedure>
    </Test>
  </measurement>
  <measurement>
    <Test gml:id="Measurement_BoreHole_3918895549773102293_Num_2">
      <gml:name>SPT</gml:name>
      <investigationTarget>Natural Ground</investigationTarget>
      <projectRef xlink:href="#Geosetta_Generated"/>
      <samplingFeatureRef xlink:href="#Borehole_Num_1"/>
      <outcome>
        <TestResult gml:id="TestResult_Num_2">
          <location>
            <LinearExtent gml:id="LinearExtent_3918895549773102293_Num_2_1">
              <gml:posList>10.0 10.75</gml:posList>
            </LinearExtent>
          </location>
          <results>
            <ResultSet>
              <parameters>
                <PropertyParameters gml:id="PropertyPara2">
                  <properties>
                    <Property index="1" gml:id="property_Num_2_2">
                      <propertyName>N-Value</propertyName>
                      <typeData>long</typeData>
                      <propertyClass codeSpace="urn:diggs:def:codelist:DIGGS:properties">n_value</propertyClass>
                    </Property>
                  </properties>
                </PropertyParameters>
              </parameters>
              <dataValues cs="," ts=" " decimal=".">78</dataValues>
            </ResultSet>
          </results>
        </TestResult>
      </outcome>
      <procedure>
        <diggs_geo:DrivenPenetrationTest gml:id="penID_2_2">
          <diggs_geo:penetrationTestType>SPT</diggs_geo:penetrationTestType>
          <diggs_geo:totalPenetration uom="in">18</diggs_geo:totalPenetration>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_2_2">
              <diggs_geo:index>1</diggs_geo:index>
              <diggs_geo:blowCount>78</diggs_geo:blowCount>
              <diggs_geo:penetration uom="in">9.0</diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_2_3">
              <diggs_geo:index>2</diggs_geo:index>
              <diggs_geo:blowCount></diggs_geo:blowCount>
              <diggs_geo:penetration uom="in"></diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_2_4">
              <diggs_geo:index>3</diggs_geo:index>
              <diggs_geo:blowCount></diggs_geo:blowCount>
              <diggs_geo:penetration uom="in"></diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_2_5">
              <diggs_geo:index>4</diggs_geo:index>
              <diggs_geo:blowCount></diggs_geo:blowCount>
              <diggs_geo:penetration uom="in"></diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
        </diggs_geo:DrivenPenetrationTest>
      </procedure>
    </Test>
  </measurement>
  <measurement>
    <Test gml:id="Measurement_BoreHole_3918895549773102293_Num_3">
      <gml:name>SPT</gml:name>
      <investigationTarget>Natural Ground</investigationTarget>
      <projectRef xlink:href="#Geosetta_Generated"/>
      <samplingFeatureRef xlink:href="#Borehole_Num_1"/>
      <outcome>
        <TestResult gml:id="TestResult_Num_3">
          <location>
            <LinearExtent gml:id="LinearExtent_3918895549773102293_Num_3_1">
              <gml:posList>15.0 15.25</gml:posList>
            </LinearExtent>
          </location>
          <results>
            <ResultSet>
              <parameters>
                <PropertyParameters gml:id="PropertyPara3">
                  <properties>
                    <Property index="1" gml:id="property_Num_3_2">
                      <propertyName>N-Value</propertyName>
                      <typeData>long</typeData>
                      <propertyClass codeSpace="urn:diggs:def:codelist:DIGGS:properties">n_value</propertyClass>
                    </Property>
                  </properties>
                </PropertyParameters>
              </parameters>
              <dataValues cs="," ts=" " decimal=".">15</dataValues>
            </ResultSet>
          </results>
        </TestResult>
      </outcome>
      <procedure>
        <diggs_geo:DrivenPenetrationTest gml:id="penID_3_2">
          <diggs_geo:penetrationTestType>SPT</diggs_geo:penetrationTestType>
          <diggs_geo:totalPenetration uom="in">18</diggs_geo:totalPenetration>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_3_2">
              <diggs_geo:index>1</diggs_geo:index>
              <diggs_geo:blowCount>15</diggs_geo:blowCount>
              <diggs_geo:penetration uom="in">3.0</diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_3_3">
              <diggs_geo:index>2</diggs_geo:index>
              <diggs_geo:blowCount></diggs_geo:blowCount>
              <diggs_geo:penetration uom="in"></diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_3_4">
              <diggs_geo:index>3</diggs_geo:index>
              <diggs_geo:blowCount></diggs_geo:blowCount>
              <diggs_geo:penetration uom="in"></diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_3_5">
              <diggs_geo:index>4</diggs_geo:index>
              <diggs_geo:blowCount></diggs_geo:blowCount>
              <diggs_geo:penetration uom="in"></diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
        </diggs_geo:DrivenPenetrationTest>
      </procedure>
    </Test>
  </measurement>
  <measurement>
    <Test gml:id="Measurement_BoreHole_3918895549773102293_Num_4">
      <gml:name>SPT</gml:name>
      <investigationTarget>Natural Ground</investigationTarget>
      <projectRef xlink:href="#Geosetta_Generated"/>
      <samplingFeatureRef xlink:href="#Borehole_Num_1"/>
      <outcome>
        <TestResult gml:id="TestResult_Num_4">
          <location>
            <LinearExtent gml:id="LinearExtent_3918895549773102293_Num_4_1">
              <gml:posList>20.0 20.5</gml:posList>
            </LinearExtent>
          </location>
          <results>
            <ResultSet>
              <parameters>
                <PropertyParameters gml:id="PropertyPara4">
                  <properties>
                    <Property index="1" gml:id="property_Num_4_2">
                      <propertyName>N-Value</propertyName>
                      <typeData>long</typeData>
                      <propertyClass codeSpace="urn:diggs:def:codelist:DIGGS:properties">n_value</propertyClass>
                    </Property>
                  </properties>
                </PropertyParameters>
              </parameters>
              <dataValues cs="," ts=" " decimal=".">100</dataValues>
            </ResultSet>
          </results>
        </TestResult>
      </outcome>
      <procedure>
        <diggs_geo:DrivenPenetrationTest gml:id="penID_4_2">
          <diggs_geo:penetrationTestType>SPT</diggs_geo:penetrationTestType>
          <diggs_geo:totalPenetration uom="in">18</diggs_geo:totalPenetration>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_4_2">
              <diggs_geo:index>1</diggs_geo:index>
              <diggs_geo:blowCount>100</diggs_geo:blowCount>
              <diggs_geo:penetration uom="in">6.0</diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_4_3">
              <diggs_geo:index>2</diggs_geo:index>
              <diggs_geo:blowCount></diggs_geo:blowCount>
              <diggs_geo:penetration uom="in"></diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_4_4">
              <diggs_geo:index>3</diggs_geo:index>
              <diggs_geo:blowCount></diggs_geo:blowCount>
              <diggs_geo:penetration uom="in"></diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
          <diggs_geo:driveSet>
            <diggs_geo:DriveSet gml:id="LinearExtent_3918895549773102293_Num_4_5">
              <diggs_geo:index>4</diggs_geo:index>
              <diggs_geo:blowCount></diggs_geo:blowCount>
              <diggs_geo:penetration uom="in"></diggs_geo:penetration>
            </diggs_geo:DriveSet>
          </diggs_geo:driveSet>
        </diggs_geo:DrivenPenetrationTest>
      </procedure>
    </Test>
  </measurement>
</Diggs>`;
    
    // Display the XML content
    xmlContentElement.textContent = xmlContent;
    
    // Validate the XML
    const isValid = validateXML(xmlContent);
    
    if (isValid) {
      validationResultElement.textContent = 'Your DIGGS File is Valid XML';
      validationResultElement.className = 'success';
      
      // Convert XML to jsTree data format
      const xmlData = convertXmlToJsTreeData(xmlContent);
      
      // Initialize jsTree
      $(xmlTreeElement).jstree({
        core: {
          data: xmlData
        }
      });
    } else {
      validationResultElement.textContent = 'Your DIGGS File is Invalid XML';
      validationResultElement.className = 'error';
    }
    
    function validateXML(xmlContent) {
      // Basic XML validation logic using DOMParser
      const parser = new DOMParser();
      const xmlDoc = parser.parseFromString(xmlContent, 'text/xml');
      const errorElements = xmlDoc.getElementsByTagName('parsererror');
      return errorElements.length === 0;
    }
    
    function convertXmlToJsTreeData(xmlContent) {
      const parser = new DOMParser();
      const xmlDoc = parser.parseFromString(xmlContent, 'text/xml');
      const rootElement = xmlDoc.documentElement;
      
      function traverseElement(element) {
        const node = {
          text: element.nodeName
        };
        
        if (element.childNodes.length > 0) {
          node.children = [];
          for (let i = 0; i < element.childNodes.length; i++) {
            const childNode = element.childNodes[i];
            if (childNode.nodeType === Node.ELEMENT_NODE) {
              node.children.push(traverseElement(childNode));
            } else if (childNode.nodeType === Node.TEXT_NODE && childNode.textContent.trim() !== '') {
              node.text += ': ' + childNode.textContent.trim();
            }
          }
        }
        
        return node;
      }
      
      return [traverseElement(rootElement)];
    }
  </script>
</body>
</html>